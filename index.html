<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>04-lecture-database</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		
		<!-- Include buttons for opening and closing the notes canvas or the chalkboard -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background-image="images/astemir-almov-265122-unsplash.jpg" data-state="dimbg_dark">
				<!-- Front page -->
					<h1>Urban Big Data Analytics</h1>
					
					<i>Lecture 4</i><br>
					<i>Database and SQL</i><br><br>
					
					<p>
					<small> July 22, 2019<br><br>
					
					Instructor: <a href="http://andyhong.org" target="_blank">Andy Hong</a>, <i>PhD</i><br>
					
					Lead Urban Health Scientist<br>
					The George Institute for Global Health<br>
					University of Oxford
					</small>
					</p>
				</section>
				<section>
				<!-- Slide 1 -->
					<h2>Assignment 2 check in</h2>
					<ul>
						<li><a href="https://www.gapminder.org/tools-offline" target="_blank">Gapminder offline tool</a></li>
						<li>Some people having trouble understanding what <u>issue</u> means</li>
						<li>An issue can be as specific as low child mortality</li>
						<li>Or as broad as poor child welfare</li>
						<li>It's about how you frame the problem, big or small</li>
					</ul>					
				</section>
				<section data-background-image="images/servers.jpg" data-state="dimbg_dark">
				<!-- Slide 2 -->
					<h2>Database</h2>
				</section>
				<section data-background-image="images/servers.jpg" data-state="dimbg_darker">
				<!-- Slide 3 -->	
					<h2>What is database?</h2>
					<ul>
						<li>A systematic collection of data</li>
						<li>Support storage and  manipulation of data</li>
						<li>Make data management quick and easy</li>
						<li><div class="fragment fade-up">Examples of database:
							<ul>
								<li> Online telephone directory</li>
								<li> Amazon products database</li>
								<li> Facebook posts database</li>
							</ul></div>
						</li>
					</ul>
				</section>
				<section>
				<!-- Slide 4 -->	
					<h2>Why use database?</h2>
					<ul>
						<li>Only way to handle large "big" data<br>(over 10 million rows)</li>
						<li>Faster to search and query</li>
						<li>Easy to manage and reliable</li>						
						<li>Keep data and relationships separately</li>
						<li>Handle multiple users concurrently</li>
					</ul>
				</section>
				<section>
				<!-- Slide 5 -->	
					<h2>Why <font color="red">NOT</font> use database?</h2>
					<ul>
						<li>Difficult to set up</li>
						<li>Need a special software</li>
						<li>Require expert knowledge</li>
						<li>Overkill for small data</li>
						<li>Don't have time and money</li>
					</ul>
				</section>
				<section style="display: flex; justify-content: center;">
				<!-- Slide 6 -->	
					<h2>Two most common types</h2>
					<img src="images/database_types.png" >
				</section>
				<section>
				<!-- Slide 7 -->	
				<h2>When to use what?</h2>
				<table>
					<thead>
						<tr>
							<th>Relational DB</th>
							<th>Non-relational DB</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td style="width: 50%; vertical-align:top">
								<ul>
									<li>Large <font color="DeepSkyBlue">structured</font> data</li>
									<li>Existing organization and relationships (corporates)</li>
									<li>Scalability and reliability matter</li>
								</ul>
							</td>	
							<td style="width: 50%; vertical-align:top"> 
								<ul>
									<li>Large <font color="DeepSkyBlue">unstructured</font> data</li>
									<li>Scalability and speed matter (startups)</li>
									<li>Changing structure and flexible</li>
								</ul>	
							</td>
						</tr>
					</tbody>
				</table>
				</section>
				<section data-background-image="images/warner_bros.jpg" data-state="dimbg_dark">
				<!-- Slide 8 -->
				<h2>Example <br> Relational database</h2>
				</section>
				<section>
				<!-- Slide 9 -->	
					<h2>Warner Bros Database</h2>
					<div style="position:relative; width:1000px; height:550px; margin-left:40px;">
					  <img class="fragment fade-out" data-fragment-index="0" src="images/movie_database1.png" style="position:absolute;top:0;left:0;" />
					  <img class="fragment fade-in" data-fragment-index="0" src="images/movie_database2.png" style="position:absolute;top:0;left:0;" />
					</div>
				</section>
				<section data-background-image="images/linkedin_bg.jpg" data-state="dimbg_dark">
				<!-- Slide 10 -->
				<h2>Example <br> Non-relational database</h2>
				</section>
				
				<section>
				<!-- Slide 11 -->
					<h2>LinkedIn Member Distance DB</h2>
					<div style="position:relative; width:1000px; height:550px; margin-left:50px;">
					  <img data-fragment-index="0" width="700px" src="images/linkedin_database1.png" style="position:absolute;top:0;left:10%;" />
					  <img class="fragment fade-in" data-fragment-index="0" src="images/linkedin_database2.png" style="border:5px solid grey;position:absolute;bottom:0px;right:100px;" />
					</div>
				</section>
				<section data-background-image="images/sql_background.jpg">
				<!-- Slide 12 -->
				<div style="text-align:left; position:absolute; left:20%;">
				<h1><font color="red">S</font>tructured<br>
					<font color="red">Q</font>uery<br>
					<font color="red">L</font>anguage</h1>
				</div>
				</section>
				<section data-background-image="images/sql_background.jpg" data-state="dimbg_dark">
				<!-- Slide 13 -->
					<h2>What is SQL?</h2>
					<ul>
						<li>Standard language for relational database management systems (RDBMS)</li>
						<li>Been around for more than 40 years</li>
						<li>Universal language for database:
						<ul>
							<li class="fragment fade-up">Build databases: <font color="DeepSkyBlue">CREATE</font></li>
							<li class="fragment fade-up">Manipulate databases: <font color="DeepSkyBlue">INSERT, UPDATE</font></li>
							<li class="fragment fade-up">Query databases: <font color="DeepSkyBlue">SELECT</font></li>
						</ul>
						</li>
					</ul>
				</section>	
				<section>
				<!-- Slide 14 -->
					<h2>Basic SQL commands</h2>
					<ul>
						<li class="fragment fade-up"><font color="DeepSkyBlue">CREATE TABLE</font>: Creating a new table</li>
						<li class="fragment fade-up"><font color="DeepSkyBlue">DROP TABLE</font>: Removing a table</li>
						<li class="fragment fade-up"><font color="DeepSkyBlue">UPDATE TABLE</font>: Changing a table</li>
						<li class="fragment fade-up"><font color="DeepSkyBlue">CREATE INDEX</font>: Optimizing a table</li>
						<li class="fragment fade-up"><font color="DeepSkyBlue">SELECT</font> * <font color="DeepSkyBlue">FROM</font> [table name] <font color="DeepSkyBlue">WHERE</font> x = y: Querying a table</li>
					</ul>
				</section>	
				<section>
				<!-- Slide 14 -->
					<h2>Basic SQLite commands</h2>
					<ul>
						<li class="fragment fade-up"><font color="DeepSkyBlue">.tables</font>: View tables</li>
						<li class="fragment fade-up"><font color="DeepSkyBlue">.schema</font> [table name]: View header definitions</li>
						<li class="fragment fade-up"><font color="DeepSkyBlue">.quit</font>: Close the SQLite program</li>
						<li class="fragment fade-up"><font color="DeepSkyBlue">.headers on</font>: Turn on display of headers</li>
						<li class="fragment fade-up"><font color="DeepSkyBlue">.mode csv</font>: Comma separated values</li>
						<li class="fragment fade-up"><font color="DeepSkyBlue">.mode column</font>: Left aligned columns</li>
					</ul>
				</section>
				<section>
				<!-- Slide 15 -->
					<h2>SQLite Demo</h2>
					<pre><code data-trim data-noescape>
						Andys-MacBook-Pro$ sqlite3 seattle_crime_data.db
						
						SQLite version 3.13.0 2016-05-18 10:57:30
						Enter ".help" for usage hints.
						 
						sqlite> .headers on
						sqlite> .mode column
						sqlite> .tables
						crime
						
					</code></pre>
				</section>
				<section>
				<!-- Slide 16 -->
					<h2>SQLite Demo</h2>
					<pre><code data-trim data-noescape>
						sqlite> .schema crime
						CREATE TABLE crime(
						  "ID" TEXT,
						  "GeneralOffenseNumber" TEXT,
						  "OffenseCode" TEXT,
						  "OffenseCodeExtension" TEXT,
						  "OffenseType" TEXT,
						  "SummaryOffenseCode" TEXT,
						  "SummarizedOffenseDescription" TEXT,
						  "DateReported" TEXT,
						  "OccurredDateorDateRangeStart" TEXT,
						  "OccurredDateRangeEnd" TEXT,
						  "HundredBlockLocation" TEXT,
						  "DistrictSector" TEXT,
						  "ZoneBeat" TEXT,
						  "CensusTract2000" TEXT,
						  "Longitude" REAL,
						  "Latitude" REAL,
						  "Location" TEXT,
						  "Month" INTEGER,
						  "Year" INTEGER
						);
						
					</code></pre>
				</section>
				<section>
				<!-- Slide 17 -->
					<h2>SQLite Demo</h2>
					<pre><code data-trim data-noescape>
						sqlite> SELECT Year, OffenseType FROM crime LIMIT 10;
						
						Year        OffenseType
						----------  ------------
						Year        Offense Type
						2010        PROPERTY DAM
						2012        THEFT-SHOPLI
						2012        THEFT-OTH
						2014        VEH-THEFT-TR
						2014        BURGLARY-FOR
						2010        ROBBERY-STRE
						2014        VEH-THEFT-AU
						2014        VEH-THEFT-AU
						2014        ROBBERY-BUSI
						
					</code></pre>
				</section>
				<section>
				<!-- Slide 18 -->
					<h2>Class 4 - Group session</h2>
					<a href="https://urbanbigdata.github.io/04-lecture-database/group-session/GroupSession_04.html" target="_blank">Instruction</a>
				</section>
				<section>
				<!-- Slide 19 -->
					<h2>Assignment 3</h2>
					<a href="https://urbanbigdata.github.io/99-assignments/assignment-3/Assignment_3.html" target="_blank">Instruction</a>
				</section>
				<section>
				<!-- Slide 20 -->	
					<h3>Any questions?</h3>
					For all the course materials, go to <a href="https://urbanbigdata.github.io/" target="_blank">urbanbigdata.github.io</a>
				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				slideNumber : true,
				//previewLinks: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom
				
				chalkboard: { 
					// optionally load pre-recorded chalkboard drawing from file
					//src: "chalkboard.json",
					color: [ 'rgba(0,0,255,1)', 'rgba(255,255,255,0.5)' ],
					background: [ 'rgba(127,127,127,.1)' , 'reveal.js-plugins/chalkboard/img/blackboard.png' ]
					
				},
				  
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/chalkboard/chalkboard.js' }
				],
				
				keyboard: {
				    67: function() { RevealChalkboard.toggleNotesCanvas() },	// toggle notes canvas when 'c' is pressed
				    66: function() { RevealChalkboard.toggleChalkboard() },	// toggle chalkboard when 'b' is pressed
				    46: function() { RevealChalkboard.clear() },	// clear chalkboard when 'DEL' is pressed
				     8: function() { RevealChalkboard.reset() },	// reset chalkboard data on current slide when 'BACKSPACE' is pressed
				    68: function() { RevealChalkboard.download() },	// downlad recorded chalkboard drawing when 'd' is pressed
				}
			});
		</script>
	</body>
</html>
